"use strict";const k=require("vue"),Ye=require("ant-design-vue");var Ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ni={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(Ct,function(){var i=1e3,n=6e4,r=36e5,a="millisecond",s="second",u="minute",o="hour",f="day",c="week",l="month",d="quarter",y="year",h="date",T="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(E){var g=["th","st","nd","rd"],p=E%100;return"["+E+(g[(p-20)%10]||g[p]||g[0])+"]"}},S=function(E,g,p){var D=String(E);return!D||D.length>=g?E:""+Array(g+1-D.length).join(p)+E},R={s:S,z:function(E){var g=-E.utcOffset(),p=Math.abs(g),D=Math.floor(p/60),w=p%60;return(g<=0?"+":"-")+S(D,2,"0")+":"+S(w,2,"0")},m:function E(g,p){if(g.date()<p.date())return-E(p,g);var D=12*(p.year()-g.year())+(p.month()-g.month()),w=g.clone().add(D,l),A=p-w<0,O=g.clone().add(D+(A?-1:1),l);return+(-(D+(p-w)/(A?w-O:O-w))||0)},a:function(E){return E<0?Math.ceil(E)||0:Math.floor(E)},p:function(E){return{M:l,y,w:c,d:f,D:h,h:o,m:u,s,ms:a,Q:d}[E]||String(E||"").toLowerCase().replace(/s$/,"")},u:function(E){return E===void 0}},N="en",L={};L[N]=_;var F="$isDayjsObject",P=function(E){return E instanceof j||!(!E||!E[F])},z=function E(g,p,D){var w;if(!g)return N;if(typeof g=="string"){var A=g.toLowerCase();L[A]&&(w=A),p&&(L[A]=p,w=A);var O=g.split("-");if(!w&&O.length>1)return E(O[0])}else{var I=g.name;L[I]=g,w=I}return!D&&w&&(N=w),w||!D&&N},C=function(E,g){if(P(E))return E.clone();var p=typeof g=="object"?g:{};return p.date=E,p.args=arguments,new j(p)},b=R;b.l=z,b.i=P,b.w=function(E,g){return C(E,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var j=function(){function E(p){this.$L=z(p.locale,null,!0),this.parse(p),this.$x=this.$x||p.x||{},this[F]=!0}var g=E.prototype;return g.parse=function(p){this.$d=function(D){var w=D.date,A=D.utc;if(w===null)return new Date(NaN);if(b.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var O=w.match(m);if(O){var I=O[2]-1||0,W=(O[7]||"0").substring(0,3);return A?new Date(Date.UTC(O[1],I,O[3]||1,O[4]||0,O[5]||0,O[6]||0,W)):new Date(O[1],I,O[3]||1,O[4]||0,O[5]||0,O[6]||0,W)}}return new Date(w)}(p),this.init()},g.init=function(){var p=this.$d;this.$y=p.getFullYear(),this.$M=p.getMonth(),this.$D=p.getDate(),this.$W=p.getDay(),this.$H=p.getHours(),this.$m=p.getMinutes(),this.$s=p.getSeconds(),this.$ms=p.getMilliseconds()},g.$utils=function(){return b},g.isValid=function(){return this.$d.toString()!==T},g.isSame=function(p,D){var w=C(p);return this.startOf(D)<=w&&w<=this.endOf(D)},g.isAfter=function(p,D){return C(p)<this.startOf(D)},g.isBefore=function(p,D){return this.endOf(D)<C(p)},g.$g=function(p,D,w){return b.u(p)?this[D]:this.set(w,p)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(p,D){var w=this,A=!!b.u(D)||D,O=b.p(p),I=function(oe,Q){var ie=b.w(w.$u?Date.UTC(w.$y,Q,oe):new Date(w.$y,Q,oe),w);return A?ie:ie.endOf(f)},W=function(oe,Q){return b.w(w.toDate()[oe].apply(w.toDate("s"),(A?[0,0,0,0]:[23,59,59,999]).slice(Q)),w)},X=this.$W,J=this.$M,ee=this.$D,pe="set"+(this.$u?"UTC":"");switch(O){case y:return A?I(1,0):I(31,11);case l:return A?I(1,J):I(0,J+1);case c:var fe=this.$locale().weekStart||0,ye=(X<fe?X+7:X)-fe;return I(A?ee-ye:ee+(6-ye),J);case f:case h:return W(pe+"Hours",0);case o:return W(pe+"Minutes",1);case u:return W(pe+"Seconds",2);case s:return W(pe+"Milliseconds",3);default:return this.clone()}},g.endOf=function(p){return this.startOf(p,!1)},g.$set=function(p,D){var w,A=b.p(p),O="set"+(this.$u?"UTC":""),I=(w={},w[f]=O+"Date",w[h]=O+"Date",w[l]=O+"Month",w[y]=O+"FullYear",w[o]=O+"Hours",w[u]=O+"Minutes",w[s]=O+"Seconds",w[a]=O+"Milliseconds",w)[A],W=A===f?this.$D+(D-this.$W):D;if(A===l||A===y){var X=this.clone().set(h,1);X.$d[I](W),X.init(),this.$d=X.set(h,Math.min(this.$D,X.daysInMonth())).$d}else I&&this.$d[I](W);return this.init(),this},g.set=function(p,D){return this.clone().$set(p,D)},g.get=function(p){return this[b.p(p)]()},g.add=function(p,D){var w,A=this;p=Number(p);var O=b.p(D),I=function(J){var ee=C(A);return b.w(ee.date(ee.date()+Math.round(J*p)),A)};if(O===l)return this.set(l,this.$M+p);if(O===y)return this.set(y,this.$y+p);if(O===f)return I(1);if(O===c)return I(7);var W=(w={},w[u]=n,w[o]=r,w[s]=i,w)[O]||1,X=this.$d.getTime()+p*W;return b.w(X,this)},g.subtract=function(p,D){return this.add(-1*p,D)},g.format=function(p){var D=this,w=this.$locale();if(!this.isValid())return w.invalidDate||T;var A=p||"YYYY-MM-DDTHH:mm:ssZ",O=b.z(this),I=this.$H,W=this.$m,X=this.$M,J=w.weekdays,ee=w.months,pe=w.meridiem,fe=function(Q,ie,he,we){return Q&&(Q[ie]||Q(D,A))||he[ie].slice(0,we)},ye=function(Q){return b.s(I%12||12,Q,"0")},oe=pe||function(Q,ie,he){var we=Q<12?"AM":"PM";return he?we.toLowerCase():we};return A.replace(v,function(Q,ie){return ie||function(he){switch(he){case"YY":return String(D.$y).slice(-2);case"YYYY":return b.s(D.$y,4,"0");case"M":return X+1;case"MM":return b.s(X+1,2,"0");case"MMM":return fe(w.monthsShort,X,ee,3);case"MMMM":return fe(ee,X);case"D":return D.$D;case"DD":return b.s(D.$D,2,"0");case"d":return String(D.$W);case"dd":return fe(w.weekdaysMin,D.$W,J,2);case"ddd":return fe(w.weekdaysShort,D.$W,J,3);case"dddd":return J[D.$W];case"H":return String(I);case"HH":return b.s(I,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return oe(I,W,!0);case"A":return oe(I,W,!1);case"m":return String(W);case"mm":return b.s(W,2,"0");case"s":return String(D.$s);case"ss":return b.s(D.$s,2,"0");case"SSS":return b.s(D.$ms,3,"0");case"Z":return O}return null}(Q)||O.replace(":","")})},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(p,D,w){var A,O=this,I=b.p(D),W=C(p),X=(W.utcOffset()-this.utcOffset())*n,J=this-W,ee=function(){return b.m(O,W)};switch(I){case y:A=ee()/12;break;case l:A=ee();break;case d:A=ee()/3;break;case c:A=(J-X)/6048e5;break;case f:A=(J-X)/864e5;break;case o:A=J/r;break;case u:A=J/n;break;case s:A=J/i;break;default:A=J}return w?A:b.a(A)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return L[this.$L]},g.locale=function(p,D){if(!p)return this.$L;var w=this.clone(),A=z(p,D,!0);return A&&(w.$L=A),w},g.clone=function(){return b.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},E}(),B=j.prototype;return C.prototype=B,[["$ms",a],["$s",s],["$m",u],["$H",o],["$W",f],["$M",l],["$y",y],["$D",h]].forEach(function(E){B[E[1]]=function(g){return this.$g(g,E[0],E[1])}}),C.extend=function(E,g){return E.$i||(E(g,j,C),E.$i=!0),C},C.locale=z,C.isDayjs=P,C.unix=function(E){return C(1e3*E)},C.en=L[N],C.Ls=L,C.p={},C})})(Ni);var zi=Ni.exports;const Fi=Pi(zi);var Yi={exports:{}};(function(t,e){(function(i,n){t.exports=n()})(Ct,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,a=/\d\d/,s=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,o={},f=function(m){return(m=+m)+(m>68?1900:2e3)},c=function(m){return function(v){this[m]=+v}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var _=v.match(/([+-]|\d\d)/g),S=60*_[1]+(+_[2]||0);return S===0?0:_[0]==="+"?-S:S}(m)}],d=function(m){var v=o[m];return v&&(v.indexOf?v:v.s.concat(v.f))},y=function(m,v){var _,S=o.meridiem;if(S){for(var R=1;R<=24;R+=1)if(m.indexOf(S(R,0,v))>-1){_=R>12;break}}else _=m===(v?"pm":"PM");return _},h={A:[u,function(m){this.afternoon=y(m,!1)}],a:[u,function(m){this.afternoon=y(m,!0)}],Q:[r,function(m){this.month=3*(m-1)+1}],S:[r,function(m){this.milliseconds=100*+m}],SS:[a,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[s,c("seconds")],ss:[s,c("seconds")],m:[s,c("minutes")],mm:[s,c("minutes")],H:[s,c("hours")],h:[s,c("hours")],HH:[s,c("hours")],hh:[s,c("hours")],D:[s,c("day")],DD:[a,c("day")],Do:[u,function(m){var v=o.ordinal,_=m.match(/\d+/);if(this.day=_[0],v)for(var S=1;S<=31;S+=1)v(S).replace(/\[|\]/g,"")===m&&(this.day=S)}],w:[s,c("week")],ww:[a,c("week")],M:[s,c("month")],MM:[a,c("month")],MMM:[u,function(m){var v=d("months"),_=(d("monthsShort")||v.map(function(S){return S.slice(0,3)})).indexOf(m)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[u,function(m){var v=d("months").indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,c("year")],YY:[a,function(m){this.year=f(m)}],YYYY:[/\d{4}/,c("year")],Z:l,ZZ:l};function T(m){var v,_;v=m,_=o&&o.formats;for(var S=(m=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(C,b,j){var B=j&&j.toUpperCase();return b||_[j]||i[j]||_[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(E,g,p){return g||p.slice(1)})})).match(n),R=S.length,N=0;N<R;N+=1){var L=S[N],F=h[L],P=F&&F[0],z=F&&F[1];S[N]=z?{regex:P,parser:z}:L.replace(/^\[|\]$/g,"")}return function(C){for(var b={},j=0,B=0;j<R;j+=1){var E=S[j];if(typeof E=="string")B+=E.length;else{var g=E.regex,p=E.parser,D=C.slice(B),w=g.exec(D)[0];p.call(b,w),C=C.replace(w,"")}}return function(A){var O=A.afternoon;if(O!==void 0){var I=A.hours;O?I<12&&(A.hours+=12):I===12&&(A.hours=0),delete A.afternoon}}(b),b}}return function(m,v,_){_.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(f=m.parseTwoDigitYear);var S=v.prototype,R=S.parse;S.parse=function(N){var L=N.date,F=N.utc,P=N.args;this.$u=F;var z=P[1];if(typeof z=="string"){var C=P[2]===!0,b=P[3]===!0,j=C||b,B=P[2];b&&(B=P[2]),o=this.$locale(),!C&&B&&(o=_.Ls[B]),this.$d=function(D,w,A,O){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*D);var I=T(w)(D),W=I.year,X=I.month,J=I.day,ee=I.hours,pe=I.minutes,fe=I.seconds,ye=I.milliseconds,oe=I.zone,Q=I.week,ie=new Date,he=J||(W||X?1:ie.getDate()),we=W||ie.getFullYear(),Xe=0;W&&!X||(Xe=X>0?X-1:ie.getMonth());var Ke,ht=ee||0,dt=pe||0,gt=fe||0,vt=ye||0;return oe?new Date(Date.UTC(we,Xe,he,ht,dt,gt,vt+60*oe.offset*1e3)):A?new Date(Date.UTC(we,Xe,he,ht,dt,gt,vt)):(Ke=new Date(we,Xe,he,ht,dt,gt,vt),Q&&(Ke=O(Ke).week(Q).toDate()),Ke)}catch{return new Date("")}}(L,z,F,_),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),j&&L!=this.format(z)&&(this.$d=new Date("")),o={}}else if(z instanceof Array)for(var E=z.length,g=1;g<=E;g+=1){P[1]=z[g-1];var p=_.apply(this,P);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}g===E&&(this.$d=new Date(""))}else R.call(this,N)}}})})(Yi);var gn=Yi.exports;const vn=Pi(gn);var mn={exports:{}};(function(t,e){(function(i,n){t.exports=n(zi)})(Ct,function(i){function n(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var r=n(i),a={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(s,u){return u==="W"?s+"周":s+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(s,u){var o=100*s+u;return o<600?"凌晨":o<900?"早上":o<1100?"上午":o<1300?"中午":o<1800?"下午":"晚上"}};return r.default.locale(a,null,!0),a})})(mn);var ji=typeof global=="object"&&global&&global.Object===Object&&global,pn=typeof self=="object"&&self&&self.Object===Object&&self,ce=ji||pn||Function("return this")(),de=ce.Symbol,ki=Object.prototype,wn=ki.hasOwnProperty,yn=ki.toString,ze=de?de.toStringTag:void 0;function bn(t){var e=wn.call(t,ze),i=t[ze];try{t[ze]=void 0;var n=!0}catch{}var r=yn.call(t);return n&&(e?t[ze]=i:delete t[ze]),r}var _n=Object.prototype,Sn=_n.toString;function Tn(t){return Sn.call(t)}var En="[object Null]",Dn="[object Undefined]",Ht=de?de.toStringTag:void 0;function Ne(t){return t==null?t===void 0?Dn:En:Ht&&Ht in Object(t)?bn(t):Tn(t)}function Se(t){return t!=null&&typeof t=="object"}var An="[object Symbol]";function st(t){return typeof t=="symbol"||Se(t)&&Ne(t)==An}function On(t,e){for(var i=-1,n=t==null?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}var ue=Array.isArray,Ut=de?de.prototype:void 0,Vt=Ut?Ut.toString:void 0;function Hi(t){if(typeof t=="string")return t;if(ue(t))return On(t,Hi)+"";if(st(t))return Vt?Vt.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function ot(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function xn(t){return t}var Mn="[object AsyncFunction]",Cn="[object Function]",In="[object GeneratorFunction]",$n="[object Proxy]";function Ui(t){if(!ot(t))return!1;var e=Ne(t);return e==Cn||e==In||e==Mn||e==$n}var mt=ce["__core-js_shared__"],Wt=function(){var t=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ln(t){return!!Wt&&Wt in t}var Rn=Function.prototype,Pn=Rn.toString;function Ee(t){if(t!=null){try{return Pn.call(t)}catch{}try{return t+""}catch{}}return""}var Nn=/[\\^$.*+?()[\]{}|]/g,zn=/^\[object .+?Constructor\]$/,Fn=Function.prototype,Yn=Object.prototype,jn=Fn.toString,kn=Yn.hasOwnProperty,Hn=RegExp("^"+jn.call(kn).replace(Nn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Un(t){if(!ot(t)||Ln(t))return!1;var e=Ui(t)?Hn:zn;return e.test(Ee(t))}function Vn(t,e){return t==null?void 0:t[e]}function De(t,e){var i=Vn(t,e);return Un(i)?i:void 0}var bt=De(ce,"WeakMap");function Wn(){}function qn(t,e,i,n){for(var r=t.length,a=i+-1;++a<r;)if(e(t[a],a,t))return a;return-1}function Bn(t){return t!==t}function Xn(t,e,i){for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function Kn(t,e,i){return e===e?Xn(t,e,i):qn(t,Bn,i)}function Gn(t,e){var i=t==null?0:t.length;return!!i&&Kn(t,e,0)>-1}var Zn=9007199254740991,Jn=/^(?:0|[1-9]\d*)$/;function Vi(t,e){var i=typeof t;return e=e??Zn,!!e&&(i=="number"||i!="symbol"&&Jn.test(t))&&t>-1&&t%1==0&&t<e}function It(t,e){return t===e||t!==t&&e!==e}var Qn=9007199254740991;function $t(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Qn}function er(t){return t!=null&&$t(t.length)&&!Ui(t)}var tr=Object.prototype;function Wi(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||tr;return t===i}function ir(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var nr="[object Arguments]";function qt(t){return Se(t)&&Ne(t)==nr}var qi=Object.prototype,rr=qi.hasOwnProperty,ar=qi.propertyIsEnumerable,Bi=qt(function(){return arguments}())?qt:function(t){return Se(t)&&rr.call(t,"callee")&&!ar.call(t,"callee")};function sr(){return!1}var Xi=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Bt=Xi&&typeof module=="object"&&module&&!module.nodeType&&module,or=Bt&&Bt.exports===Xi,Xt=or?ce.Buffer:void 0,lr=Xt?Xt.isBuffer:void 0,rt=lr||sr,ur="[object Arguments]",cr="[object Array]",fr="[object Boolean]",hr="[object Date]",dr="[object Error]",gr="[object Function]",vr="[object Map]",mr="[object Number]",pr="[object Object]",wr="[object RegExp]",yr="[object Set]",br="[object String]",_r="[object WeakMap]",Sr="[object ArrayBuffer]",Tr="[object DataView]",Er="[object Float32Array]",Dr="[object Float64Array]",Ar="[object Int8Array]",Or="[object Int16Array]",xr="[object Int32Array]",Mr="[object Uint8Array]",Cr="[object Uint8ClampedArray]",Ir="[object Uint16Array]",$r="[object Uint32Array]",q={};q[Er]=q[Dr]=q[Ar]=q[Or]=q[xr]=q[Mr]=q[Cr]=q[Ir]=q[$r]=!0;q[ur]=q[cr]=q[Sr]=q[fr]=q[Tr]=q[hr]=q[dr]=q[gr]=q[vr]=q[mr]=q[pr]=q[wr]=q[yr]=q[br]=q[_r]=!1;function Lr(t){return Se(t)&&$t(t.length)&&!!q[Ne(t)]}function Ki(t){return function(e){return t(e)}}var Gi=typeof exports=="object"&&exports&&!exports.nodeType&&exports,je=Gi&&typeof module=="object"&&module&&!module.nodeType&&module,Rr=je&&je.exports===Gi,pt=Rr&&ji.process,_t=function(){try{var t=je&&je.require&&je.require("util").types;return t||pt&&pt.binding&&pt.binding("util")}catch{}}(),Kt=_t&&_t.isTypedArray,Zi=Kt?Ki(Kt):Lr,Pr=Object.prototype,Nr=Pr.hasOwnProperty;function zr(t,e){var i=ue(t),n=!i&&Bi(t),r=!i&&!n&&rt(t),a=!i&&!n&&!r&&Zi(t),s=i||n||r||a,u=s?ir(t.length,String):[],o=u.length;for(var f in t)Nr.call(t,f)&&!(s&&(f=="length"||r&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Vi(f,o)))&&u.push(f);return u}function Ji(t,e){return function(i){return t(e(i))}}var Fr=Ji(Object.keys,Object),Yr=Object.prototype,jr=Yr.hasOwnProperty;function kr(t){if(!Wi(t))return Fr(t);var e=[];for(var i in Object(t))jr.call(t,i)&&i!="constructor"&&e.push(i);return e}function Qi(t){return er(t)?zr(t):kr(t)}var Hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ur=/^\w*$/;function Lt(t,e){if(ue(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||st(t)?!0:Ur.test(t)||!Hr.test(t)||e!=null&&t in Object(e)}var He=De(Object,"create");function Vr(){this.__data__=He?He(null):{},this.size=0}function Wr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qr="__lodash_hash_undefined__",Br=Object.prototype,Xr=Br.hasOwnProperty;function Kr(t){var e=this.__data__;if(He){var i=e[t];return i===qr?void 0:i}return Xr.call(e,t)?e[t]:void 0}var Gr=Object.prototype,Zr=Gr.hasOwnProperty;function Jr(t){var e=this.__data__;return He?e[t]!==void 0:Zr.call(e,t)}var Qr="__lodash_hash_undefined__";function ea(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=He&&e===void 0?Qr:e,this}function Te(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Te.prototype.clear=Vr;Te.prototype.delete=Wr;Te.prototype.get=Kr;Te.prototype.has=Jr;Te.prototype.set=ea;function ta(){this.__data__=[],this.size=0}function lt(t,e){for(var i=t.length;i--;)if(It(t[i][0],e))return i;return-1}var ia=Array.prototype,na=ia.splice;function ra(t){var e=this.__data__,i=lt(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():na.call(e,i,1),--this.size,!0}function aa(t){var e=this.__data__,i=lt(e,t);return i<0?void 0:e[i][1]}function sa(t){return lt(this.__data__,t)>-1}function oa(t,e){var i=this.__data__,n=lt(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function ve(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}ve.prototype.clear=ta;ve.prototype.delete=ra;ve.prototype.get=aa;ve.prototype.has=sa;ve.prototype.set=oa;var Ue=De(ce,"Map");function la(){this.size=0,this.__data__={hash:new Te,map:new(Ue||ve),string:new Te}}function ua(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function ut(t,e){var i=t.__data__;return ua(e)?i[typeof e=="string"?"string":"hash"]:i.map}function ca(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e}function fa(t){return ut(this,t).get(t)}function ha(t){return ut(this,t).has(t)}function da(t,e){var i=ut(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function me(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}me.prototype.clear=la;me.prototype.delete=ca;me.prototype.get=fa;me.prototype.has=ha;me.prototype.set=da;var ga="Expected a function";function Rt(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(ga);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var s=t.apply(this,n);return i.cache=a.set(r,s)||a,s};return i.cache=new(Rt.Cache||me),i}Rt.Cache=me;var va=500;function ma(t){var e=Rt(t,function(n){return i.size===va&&i.clear(),n}),i=e.cache;return e}var pa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wa=/\\(\\)?/g,ya=ma(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(pa,function(i,n,r,a){e.push(r?a.replace(wa,"$1"):n||i)}),e});function ba(t){return t==null?"":Hi(t)}function en(t,e){return ue(t)?t:Lt(t,e)?[t]:ya(ba(t))}function ct(t){if(typeof t=="string"||st(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function tn(t,e){e=en(e,t);for(var i=0,n=e.length;t!=null&&i<n;)t=t[ct(e[i++])];return i&&i==n?t:void 0}function _a(t,e,i){var n=t==null?void 0:tn(t,e);return n===void 0?i:n}function Sa(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function Ta(){this.__data__=new ve,this.size=0}function Ea(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Da(t){return this.__data__.get(t)}function Aa(t){return this.__data__.has(t)}var Oa=200;function xa(t,e){var i=this.__data__;if(i instanceof ve){var n=i.__data__;if(!Ue||n.length<Oa-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new me(n)}return i.set(t,e),this.size=i.size,this}function le(t){var e=this.__data__=new ve(t);this.size=e.size}le.prototype.clear=Ta;le.prototype.delete=Ea;le.prototype.get=Da;le.prototype.has=Aa;le.prototype.set=xa;function Ma(t,e){for(var i=-1,n=t==null?0:t.length,r=0,a=[];++i<n;){var s=t[i];e(s,i,t)&&(a[r++]=s)}return a}function Ca(){return[]}var Ia=Object.prototype,$a=Ia.propertyIsEnumerable,Gt=Object.getOwnPropertySymbols,La=Gt?function(t){return t==null?[]:(t=Object(t),Ma(Gt(t),function(e){return $a.call(t,e)}))}:Ca;function Ra(t,e,i){var n=e(t);return ue(t)?n:Sa(n,i(t))}function St(t){return Ra(t,Qi,La)}var Tt=De(ce,"DataView"),Et=De(ce,"Promise"),Ie=De(ce,"Set"),Zt="[object Map]",Pa="[object Object]",Jt="[object Promise]",Qt="[object Set]",ei="[object WeakMap]",ti="[object DataView]",Na=Ee(Tt),za=Ee(Ue),Fa=Ee(Et),Ya=Ee(Ie),ja=Ee(bt);exports.getTag=Ne;(Tt&&exports.getTag(new Tt(new ArrayBuffer(1)))!=ti||Ue&&exports.getTag(new Ue)!=Zt||Et&&exports.getTag(Et.resolve())!=Jt||Ie&&exports.getTag(new Ie)!=Qt||bt&&exports.getTag(new bt)!=ei)&&(exports.getTag=function(t){var e=Ne(t),i=e==Pa?t.constructor:void 0,n=i?Ee(i):"";if(n)switch(n){case Na:return ti;case za:return Zt;case Fa:return Jt;case Ya:return Qt;case ja:return ei}return e});var Dt=ce.Uint8Array,ka="__lodash_hash_undefined__";function Ha(t){return this.__data__.set(t,ka),this}function Ua(t){return this.__data__.has(t)}function Ve(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new me;++e<i;)this.add(t[e])}Ve.prototype.add=Ve.prototype.push=Ha;Ve.prototype.has=Ua;function Va(t,e){for(var i=-1,n=t==null?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function nn(t,e){return t.has(e)}var Wa=1,qa=2;function rn(t,e,i,n,r,a){var s=i&Wa,u=t.length,o=e.length;if(u!=o&&!(s&&o>u))return!1;var f=a.get(t),c=a.get(e);if(f&&c)return f==e&&c==t;var l=-1,d=!0,y=i&qa?new Ve:void 0;for(a.set(t,e),a.set(e,t);++l<u;){var h=t[l],T=e[l];if(n)var m=s?n(T,h,l,e,t,a):n(h,T,l,t,e,a);if(m!==void 0){if(m)continue;d=!1;break}if(y){if(!Va(e,function(v,_){if(!nn(y,_)&&(h===v||r(h,v,i,n,a)))return y.push(_)})){d=!1;break}}else if(!(h===T||r(h,T,i,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function Ba(t){var e=-1,i=Array(t.size);return t.forEach(function(n,r){i[++e]=[r,n]}),i}function Pt(t){var e=-1,i=Array(t.size);return t.forEach(function(n){i[++e]=n}),i}var Xa=1,Ka=2,Ga="[object Boolean]",Za="[object Date]",Ja="[object Error]",Qa="[object Map]",es="[object Number]",ts="[object RegExp]",is="[object Set]",ns="[object String]",rs="[object Symbol]",as="[object ArrayBuffer]",ss="[object DataView]",ii=de?de.prototype:void 0,wt=ii?ii.valueOf:void 0;function os(t,e,i,n,r,a,s){switch(i){case ss:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case as:return!(t.byteLength!=e.byteLength||!a(new Dt(t),new Dt(e)));case Ga:case Za:case es:return It(+t,+e);case Ja:return t.name==e.name&&t.message==e.message;case ts:case ns:return t==e+"";case Qa:var u=Ba;case is:var o=n&Xa;if(u||(u=Pt),t.size!=e.size&&!o)return!1;var f=s.get(t);if(f)return f==e;n|=Ka,s.set(t,e);var c=rn(u(t),u(e),n,r,a,s);return s.delete(t),c;case rs:if(wt)return wt.call(t)==wt.call(e)}return!1}var ls=1,us=Object.prototype,cs=us.hasOwnProperty;function fs(t,e,i,n,r,a){var s=i&ls,u=St(t),o=u.length,f=St(e),c=f.length;if(o!=c&&!s)return!1;for(var l=o;l--;){var d=u[l];if(!(s?d in e:cs.call(e,d)))return!1}var y=a.get(t),h=a.get(e);if(y&&h)return y==e&&h==t;var T=!0;a.set(t,e),a.set(e,t);for(var m=s;++l<o;){d=u[l];var v=t[d],_=e[d];if(n)var S=s?n(_,v,d,e,t,a):n(v,_,d,t,e,a);if(!(S===void 0?v===_||r(v,_,i,n,a):S)){T=!1;break}m||(m=d=="constructor")}if(T&&!m){var R=t.constructor,N=e.constructor;R!=N&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof N=="function"&&N instanceof N)&&(T=!1)}return a.delete(t),a.delete(e),T}var hs=1,ni="[object Arguments]",ri="[object Array]",Ge="[object Object]",ds=Object.prototype,ai=ds.hasOwnProperty;function gs(t,e,i,n,r,a){var s=ue(t),u=ue(e),o=s?ri:exports.getTag(t),f=u?ri:exports.getTag(e);o=o==ni?Ge:o,f=f==ni?Ge:f;var c=o==Ge,l=f==Ge,d=o==f;if(d&&rt(t)){if(!rt(e))return!1;s=!0,c=!1}if(d&&!c)return a||(a=new le),s||Zi(t)?rn(t,e,i,n,r,a):os(t,e,o,i,n,r,a);if(!(i&hs)){var y=c&&ai.call(t,"__wrapped__"),h=l&&ai.call(e,"__wrapped__");if(y||h){var T=y?t.value():t,m=h?e.value():e;return a||(a=new le),r(T,m,i,n,a)}}return d?(a||(a=new le),fs(t,e,i,n,r,a)):!1}function Nt(t,e,i,n,r){return t===e?!0:t==null||e==null||!Se(t)&&!Se(e)?t!==t&&e!==e:gs(t,e,i,n,Nt,r)}var vs=1,ms=2;function ps(t,e,i,n){var r=i.length,a=r;if(t==null)return!a;for(t=Object(t);r--;){var s=i[r];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<a;){s=i[r];var u=s[0],o=t[u],f=s[1];if(s[2]){if(o===void 0&&!(u in t))return!1}else{var c=new le,l;if(!(l===void 0?Nt(f,o,vs|ms,n,c):l))return!1}}return!0}function an(t){return t===t&&!ot(t)}function ws(t){for(var e=Qi(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,an(r)]}return e}function sn(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}function ys(t){var e=ws(t);return e.length==1&&e[0][2]?sn(e[0][0],e[0][1]):function(i){return i===t||ps(i,t,e)}}function bs(t,e){return t!=null&&e in Object(t)}function _s(t,e,i){e=en(e,t);for(var n=-1,r=e.length,a=!1;++n<r;){var s=ct(e[n]);if(!(a=t!=null&&i(t,s)))break;t=t[s]}return a||++n!=r?a:(r=t==null?0:t.length,!!r&&$t(r)&&Vi(s,r)&&(ue(t)||Bi(t)))}function Ss(t,e){return t!=null&&_s(t,e,bs)}var Ts=1,Es=2;function Ds(t,e){return Lt(t)&&an(e)?sn(ct(t),e):function(i){var n=_a(i,t);return n===void 0&&n===e?Ss(i,t):Nt(e,n,Ts|Es)}}function As(t){return function(e){return e==null?void 0:e[t]}}function Os(t){return function(e){return tn(e,t)}}function xs(t){return Lt(t)?As(ct(t)):Os(t)}function Ms(t){return typeof t=="function"?t:t==null?xn:typeof t=="object"?ue(t)?Ds(t[0],t[1]):ys(t):xs(t)}var Cs=1/0,Is=Ie&&1/Pt(new Ie([,-0]))[1]==Cs?function(t){return new Ie(t)}:Wn,$s=200;function Ls(t,e,i){var n=-1,r=Gn,a=t.length,s=!0,u=[],o=u;if(a>=$s){var f=e?null:Is(t);if(f)return Pt(f);s=!1,r=nn,o=new Ve}else o=e?[]:u;e:for(;++n<a;){var c=t[n],l=e?e(c):c;if(c=c!==0?c:0,s&&l===l){for(var d=o.length;d--;)if(o[d]===l)continue e;e&&o.push(l),u.push(c)}else r(o,l,i)||(o!==u&&o.push(l),u.push(c))}return u}function Rs(t,e){return t&&t.length?Ls(t,Ms(e)):[]}Fi.extend(vn);function Ps(){return Number(Math.random().toString().substr(3,4)+Date.now()).toString(36)}const Ns=t=>t==null;function zs(t){if(t===0)return"0 B";const e=1024,i=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+i[n]}const on=(t,e="",i)=>{const n=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(n,e);else{const r=document.createElement("a");i&&(r.className=i),r.download=e,r.style.display="none",r.href=URL.createObjectURL(n),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},ln=(t,e,i)=>{const{data:n,headers:r}=t;let a="";const s=r["content-disposition"];s&&(a=s==null?void 0:s.substring(s.indexOf("filename=")+9,s.length),a=decodeURI(a),a=a.replace(/"/g,""));const u=e||a,o=new FileReader;o.onload=f=>{try{const c=JSON.parse((f==null?void 0:f.target).result);c.success||Ye.message.error(c.errMessage)}catch{on(n,u,i)}},o.readAsText(n)},Fs=t=>{const e=document.createElement("form");e.setAttribute("method","get"),e.setAttribute("action",t),document.body.appendChild(e),e.submit(),document.body.removeChild(e)},Ys=(t,e,i="")=>{const n=new Blob([t],{type:e}),r=new FileReader;r.readAsDataURL(n),r.onload=function(a){var u;const s=document.createElement("a");s.download=i||`${new Date().getTime()}`,s.href=(u=a.target)==null?void 0:u.result,document.body.appendChild(s),s.click(),document.body.removeChild(s)}};/*!
 * Viewer.js v1.11.7
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-11-24T04:32:19.116Z
 */function js(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function si(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,un(n.key),n)}}function ks(t,e,i){return e&&si(t.prototype,e),i&&si(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hs(t,e,i){return(e=un(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function zt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?oi(Object(i),!0).forEach(function(n){Hs(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):oi(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Us(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function un(t){var e=Us(t,"string");return typeof e=="symbol"?e:e+""}function At(t){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(t)}var li={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Vs='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',ft=typeof window<"u"&&typeof window.document<"u",ge=ft?window:{},$e=ft&&ge.document.documentElement?"ontouchstart"in ge.document.documentElement:!1,Ft=ft?"PointerEvent"in ge:!1,$="viewer",tt="move",cn="switch",Fe="zoom",Ze="".concat($,"-active"),Ws="".concat($,"-close"),it="".concat($,"-fade"),Ot="".concat($,"-fixed"),qs="".concat($,"-fullscreen"),ui="".concat($,"-fullscreen-exit"),be="".concat($,"-hide"),Bs="".concat($,"-hide-md-down"),Xs="".concat($,"-hide-sm-down"),Ks="".concat($,"-hide-xs-down"),ne="".concat($,"-in"),ke="".concat($,"-invisible"),Le="".concat($,"-loading"),Gs="".concat($,"-move"),ci="".concat($,"-open"),Ae="".concat($,"-show"),G="".concat($,"-transition"),Re="click",xt="dblclick",fi="dragstart",hi="focusin",di="keydown",re="load",_e="error",Zs=$e?"touchend touchcancel":"mouseup",Js=$e?"touchmove":"mousemove",Qs=$e?"touchstart":"mousedown",gi=Ft?"pointerdown":Qs,vi=Ft?"pointermove":Js,mi=Ft?"pointerup pointercancel":Zs,pi="resize",ae="transitionend",wi="wheel",yi="ready",bi="show",_i="shown",Si="hide",Ti="hidden",Ei="view",We="viewed",Di="move",Ai="moved",Oi="rotate",xi="rotated",Mi="scale",Ci="scaled",Ii="zoom",$i="zoomed",Li="play",Ri="stop",at="".concat($,"Action"),Yt=/\s\s*/,Je=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function qe(t){return typeof t=="string"}var eo=Number.isNaN||ge.isNaN;function K(t){return typeof t=="number"&&!eo(t)}function xe(t){return typeof t>"u"}function Pe(t){return At(t)==="object"&&t!==null}var to=Object.prototype.hasOwnProperty;function Me(t){if(!Pe(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&to.call(i,"isPrototypeOf")}catch{return!1}}function H(t){return typeof t=="function"}function V(t,e){if(t&&H(e))if(Array.isArray(t)||K(t.length)){var i=t.length,n;for(n=0;n<i&&e.call(t,t[n],n,t)!==!1;n+=1);}else Pe(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)});return t}var te=Object.assign||function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return Pe(e)&&n.length>0&&n.forEach(function(a){Pe(a)&&Object.keys(a).forEach(function(s){e[s]=a[s]})}),e},io=/^(?:width|height|left|top|marginLeft|marginTop)$/;function se(t,e){var i=t.style;V(e,function(n,r){io.test(r)&&K(n)&&(n+="px"),i[r]=n})}function no(t){return qe(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function Oe(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function x(t,e){if(!(!t||!e)){if(K(t.length)){V(t,function(n){x(n,e)});return}if(t.classList){t.classList.add(e);return}var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function Y(t,e){if(!(!t||!e)){if(K(t.length)){V(t,function(i){Y(i,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Be(t,e,i){if(e){if(K(t.length)){V(t,function(n){Be(n,e,i)});return}i?x(t,e):Y(t,e)}}var ro=/([a-z\d])([A-Z])/g;function jt(t){return t.replace(ro,"$1-$2").toLowerCase()}function Ce(t,e){return Pe(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(jt(e)))}function Mt(t,e,i){Pe(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(jt(e)),i)}var fn=function(){var t=!1;if(ft){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(a){e=a}});ge.addEventListener("test",i,n),ge.removeEventListener("test",i,n)}return t}();function U(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=i;e.trim().split(Yt).forEach(function(a){if(!fn){var s=t.listeners;s&&s[a]&&s[a][i]&&(r=s[a][i],delete s[a][i],Object.keys(s[a]).length===0&&delete s[a],Object.keys(s).length===0&&delete t.listeners)}t.removeEventListener(a,r,n)})}function M(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=i;e.trim().split(Yt).forEach(function(a){if(n.once&&!fn){var s=t.listeners,u=s===void 0?{}:s;r=function(){delete u[a][i],t.removeEventListener(a,r,n);for(var f=arguments.length,c=new Array(f),l=0;l<f;l++)c[l]=arguments[l];i.apply(t,c)},u[a]||(u[a]={}),u[a][i]&&t.removeEventListener(a,u[a][i],n),u[a][i]=r,t.listeners=u}t.addEventListener(a,r,n)})}function Z(t,e,i,n){var r;return H(Event)&&H(CustomEvent)?r=new CustomEvent(e,zt({bubbles:!0,cancelable:!0,detail:i},n)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,i)),t.dispatchEvent(r)}function ao(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function nt(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,a=t.translateY,s=[];K(r)&&r!==0&&s.push("translateX(".concat(r,"px)")),K(a)&&a!==0&&s.push("translateY(".concat(a,"px)")),K(e)&&e!==0&&s.push("rotate(".concat(e,"deg)")),K(i)&&i!==1&&s.push("scaleX(".concat(i,")")),K(n)&&n!==1&&s.push("scaleY(".concat(n,")"));var u=s.length?s.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function so(t){return qe(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var yt=ge.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(ge.navigator.userAgent);function hn(t,e,i){var n=document.createElement("img");if(t.naturalWidth&&!yt)return i(t.naturalWidth,t.naturalHeight),n;var r=document.body||document.documentElement;return n.onload=function(){i(n.width,n.height),yt||r.removeChild(n)},V(e.inheritedAttributes,function(a){var s=t.getAttribute(a);s!==null&&n.setAttribute(a,s)}),n.src=t.src,yt||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(n)),n}function Qe(t){switch(t){case 2:return Ks;case 3:return Xs;case 4:return Bs;default:return""}}function oo(t){var e=zt({},t),i=[];return V(t,function(n,r){delete e[r],V(e,function(a){var s=Math.abs(n.startX-a.startX),u=Math.abs(n.startY-a.startY),o=Math.abs(n.endX-a.endX),f=Math.abs(n.endY-a.endY),c=Math.sqrt(s*s+u*u),l=Math.sqrt(o*o+f*f),d=(l-c)/c;i.push(d)})}),i.sort(function(n,r){return Math.abs(n)<Math.abs(r)}),i[0]}function et(t,e){var i=t.pageX,n=t.pageY,r={endX:i,endY:n};return e?r:zt({timeStamp:Date.now(),startX:i,startY:n},r)}function lo(t){var e=0,i=0,n=0;return V(t,function(r){var a=r.startX,s=r.startY;e+=a,i+=s,n+=1}),e/=n,i/=n,{pageX:e,pageY:i}}var uo={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,i=e.body||e.documentElement;this.body=i,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=i.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(i).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,i=this.parent,n;e.inline&&(n={width:Math.max(i.offsetWidth,e.minWidth),height:Math.max(i.offsetHeight,e.minHeight)},this.parentData=n),(this.fulled||!n)&&(n=this.containerData),this.viewerData=te({},n)},renderViewer:function(){this.options.inline&&!this.fulled&&se(this.viewer,this.viewerData)},initList:function(){var e=this,i=this.element,n=this.options,r=this.list,a=[];r.innerHTML="",V(this.images,function(s,u){var o=s.src,f=s.alt||so(o),c=e.getImageURL(s);if(o||c){var l=document.createElement("li"),d=document.createElement("img");V(n.inheritedAttributes,function(y){var h=s.getAttribute(y);h!==null&&d.setAttribute(y,h)}),n.navbar&&(d.src=o||c),d.alt=f,d.setAttribute("data-original-url",c||o),l.setAttribute("data-index",u),l.setAttribute("data-viewer-action","view"),l.setAttribute("role","button"),n.keyboard&&l.setAttribute("tabindex",0),l.appendChild(d),r.appendChild(l),a.push(l)}}),this.items=a,V(a,function(s){var u=s.firstElementChild,o,f;Mt(u,"filled",!0),n.loading&&x(s,Le),M(u,re,o=function(l){U(u,_e,f),n.loading&&Y(s,Le),e.loadImage(l)},{once:!0}),M(u,_e,f=function(){U(u,re,o),n.loading&&Y(s,Le)},{once:!0})}),n.transition&&M(i,We,function(){x(r,G)},{once:!0})},renderList:function(){var e=this.index,i=this.items[e];if(i){var n=i.nextElementSibling,r=parseInt(window.getComputedStyle(n||i).marginLeft,10),a=i.offsetWidth,s=a+r;se(this.list,te({width:s*this.length-r},nt({translateX:(this.viewerData.width-a)/2-s*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Y(e,G),se(e,nt({translateX:0}))},initImage:function(e){var i=this,n=this.options,r=this.image,a=this.viewerData,s=this.footer.offsetHeight,u=a.width,o=Math.max(a.height-s,s),f=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=hn(r,n,function(l,d){var y=l/d,h=Math.max(0,Math.min(1,n.initialCoverage)),T=u,m=o;i.imageInitializing=!1,o*y>u?m=u/y:T=o*y,h=K(h)?h:.9,T=Math.min(T*h,l),m=Math.min(m*h,d);var v=(u-T)/2,_=(o-m)/2,S={left:v,top:_,x:v,y:_,width:T,height:m,oldRatio:1,ratio:T/l,aspectRatio:y,naturalWidth:l,naturalHeight:d},R=te({},S);n.rotatable&&(S.rotate=f.rotate||0,R.rotate=0),n.scalable&&(S.scaleX=f.scaleX||1,S.scaleY=f.scaleY||1,R.scaleX=1,R.scaleY=1),i.imageData=S,i.initialImageData=R,e&&e()})},renderImage:function(e){var i=this,n=this.image,r=this.imageData;if(se(n,te({width:r.width,height:r.height,marginLeft:r.x,marginTop:r.y},nt(r))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&Oe(n,G)){var a=function(){i.imageRendering=!1,e()};this.imageRendering={abort:function(){U(n,ae,a)}},M(n,ae,a,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},co={bind:function(){var e=this.options,i=this.viewer,n=this.canvas,r=this.element.ownerDocument;M(i,Re,this.onClick=this.click.bind(this)),M(i,fi,this.onDragStart=this.dragstart.bind(this)),M(n,gi,this.onPointerDown=this.pointerdown.bind(this)),M(r,vi,this.onPointerMove=this.pointermove.bind(this)),M(r,mi,this.onPointerUp=this.pointerup.bind(this)),M(r,di,this.onKeyDown=this.keydown.bind(this)),M(window,pi,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&M(i,wi,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&M(n,xt,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,i=this.viewer,n=this.canvas,r=this.element.ownerDocument;U(i,Re,this.onClick),U(i,fi,this.onDragStart),U(n,gi,this.onPointerDown),U(r,vi,this.onPointerMove),U(r,mi,this.onPointerUp),U(r,di,this.onKeyDown),U(window,pi,this.onResize),e.zoomable&&e.zoomOnWheel&&U(i,wi,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&U(n,xt,this.onDblclick)}},fo={click:function(e){var i=this.options,n=this.imageData,r=e.target,a=Ce(r,at);switch(!a&&r.localName==="img"&&r.parentElement.localName==="li"&&(r=r.parentElement,a=Ce(r,at)),$e&&e.isTrusted&&r===this.canvas&&clearTimeout(this.clickCanvasTimeout),a){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Ce(r,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&($e&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var i=this.element,n=this.options,r=this.image,a=this.index,s=this.viewerData;Y(r,ke),n.loading&&Y(this.canvas,Le),r.style.cssText="height:0;"+"margin-left:".concat(s.width/2,"px;")+"margin-top:".concat(s.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Be(r,Gs,n.movable),Be(r,G,n.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,H(n.viewed)&&M(i,We,n.viewed,{once:!0}),Z(i,We,{originalImage:e.images[a],index:a,image:r},{cancelable:!1})})})},loadImage:function(e){var i=e.target,n=i.parentNode,r=n.offsetWidth||30,a=n.offsetHeight||50,s=!!Ce(i,"filled");hn(i,this.options,function(u,o){var f=u/o,c=r,l=a;a*f>r?s?c=a*f:l=r/f:s?l=r/f:c=a*f,se(i,te({width:c,height:l},nt({translateX:(r-c)/2,translateY:(a-l)/2})))})},keydown:function(e){var i=this.options;if(i.keyboard){var n=e.keyCode||e.which||e.charCode;switch(n){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(n){case 27:this.played?this.stop():i.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(i.loop);break;case 38:e.preventDefault(),this.zoom(i.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(i.loop);break;case 40:e.preventDefault(),this.zoom(-i.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var i=this.options,n=this.pointers,r=e.buttons,a=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(K(r)&&r!==1||K(a)&&a!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?V(e.changedTouches,function(u){n[u.identifier]=et(u)}):n[e.pointerId||0]=et(e);var s=i.movable?tt:!1;i.zoomOnTouch&&i.zoomable&&Object.keys(n).length>1?s=Fe:i.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(s=cn),i.transition&&(s===tt||s===Fe)&&Y(this.image,G),this.action=s}},pointermove:function(e){var i=this.pointers,n=this.action;!this.viewed||!n||(e.preventDefault(),e.changedTouches?V(e.changedTouches,function(r){te(i[r.identifier]||{},et(r,!0))}):te(i[e.pointerId||0]||{},et(e,!0)),this.change(e))},pointerup:function(e){var i=this,n=this.options,r=this.action,a=this.pointers,s;e.changedTouches?V(e.changedTouches,function(u){s=a[u.identifier],delete a[u.identifier]}):(s=a[e.pointerId||0],delete a[e.pointerId||0]),r&&(e.preventDefault(),n.transition&&(r===tt||r===Fe)&&x(this.image,G),this.action=!1,$e&&r!==Fe&&s&&Date.now()-s.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Z(i.image,xt,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){i.imageClicked=!1},500)):(this.imageClicked=!1,n.backdrop&&n.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Z(i.canvas,Re,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}V(this.player.getElementsByTagName("img"),function(i){M(i,re,e.loadImage.bind(e),{once:!0}),Z(i,re)})}},wheel:function(e){var i=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50);var n=Number(this.options.zoomRatio)||.1,r=1;e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,!0,null,e)}}},ho={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(H(n.show)&&M(i,bi,n.show,{once:!0}),Z(i,bi)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var r=this.viewer;if(Y(r,be),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("aria-hidden"),n.transition&&!e){var a=this.shown.bind(this);this.transitioning={abort:function(){U(r,ae,a),Y(r,ne)}},x(r,G),r.initialOffsetWidth=r.offsetWidth,M(r,ae,a,{once:!0}),x(r,ne)}else x(r,ne),this.shown();return this},hide:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.hiding||!(this.isShown||this.showing))return this;if(H(r.hide)&&M(n,Si,r.hide,{once:!0}),Z(n,Si)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var a=this.viewer,s=this.image,u=function(){Y(a,ne),e.hidden()};if(r.transition&&!i){var o=function(l){l&&l.target===a&&(U(a,ae,o),e.hidden())},f=function(){Oe(a,G)?(M(a,ae,o),Y(a,ne)):u()};this.transitioning={abort:function(){e.viewed&&Oe(s,G)?U(s,ae,f):Oe(a,G)&&U(a,ae,o)}},this.viewed&&Oe(s,G)?(M(s,ae,f,{once:!0}),this.zoomTo(0,!1,null,null,!0)):f()}else u();return this},view:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(i=Number(i)||0,this.hiding||this.played||i<0||i>=this.length||this.viewed&&i===this.index)return this;if(!this.isShown)return this.index=i,this.show();this.viewing&&this.viewing.abort();var n=this.element,r=this.options,a=this.title,s=this.canvas,u=this.items[i],o=u.querySelector("img"),f=Ce(o,"originalUrl"),c=o.getAttribute("alt"),l=document.createElement("img");if(V(r.inheritedAttributes,function(m){var v=o.getAttribute(m);v!==null&&l.setAttribute(m,v)}),l.src=f,l.alt=c,H(r.view)&&M(n,Ei,r.view,{once:!0}),Z(n,Ei,{originalImage:this.images[i],index:i,image:l})===!1||!this.isShown||this.hiding||this.played)return this;var d=this.items[this.index];d&&(Y(d,Ze),d.removeAttribute("aria-selected")),x(u,Ze),u.setAttribute("aria-selected",!0),r.focus&&u.focus(),this.image=l,this.viewed=!1,this.index=i,this.imageData={},x(l,ke),r.loading&&x(s,Le),s.innerHTML="",s.appendChild(l),this.renderList(),a.innerHTML="";var y=function(){var v=e.imageData,_=Array.isArray(r.title)?r.title[1]:r.title;a.innerHTML=no(H(_)?_.call(e,l,v):"".concat(c," (").concat(v.naturalWidth," × ").concat(v.naturalHeight,")"))},h,T;return M(n,We,y,{once:!0}),this.viewing={abort:function(){U(n,We,y),l.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(l.src="",U(l,re,h),e.timeout&&clearTimeout(e.timeout))}},l.complete?this.load():(M(l,re,h=function(){U(l,_e,T),e.load()},{once:!0}),M(l,_e,T=function(){U(l,re,h),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Y(l,ke),r.loading&&Y(e.canvas,Le)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Y(l,ke),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.index-1;return i<0&&(i=e?this.length-1:0),this.view(i),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.length-1,n=this.index+1;return n>i&&(n=e?0:i),this.view(n),this},move:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.imageData;return this.moveTo(xe(e)?e:n.x+Number(e),xe(i)?i:n.y+Number(i)),this},moveTo:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.element,s=this.options,u=this.imageData;if(e=Number(e),n=Number(n),this.viewed&&!this.played&&s.movable){var o=u.x,f=u.y,c=!1;if(K(e)?c=!0:e=o,K(n)?c=!0:n=f,c){if(H(s.move)&&M(a,Di,s.move,{once:!0}),Z(a,Di,{x:e,y:n,oldX:o,oldY:f,originalEvent:r})===!1)return this;u.x=e,u.y=n,u.left=e,u.top=n,this.moving=!0,this.renderImage(function(){i.moving=!1,H(s.moved)&&M(a,Ai,s.moved,{once:!0}),Z(a,Ai,{x:e,y:n,oldX:o,oldY:f,originalEvent:r},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var i=this,n=this.element,r=this.options,a=this.imageData;if(e=Number(e),K(e)&&this.viewed&&!this.played&&r.rotatable){var s=a.rotate;if(H(r.rotate)&&M(n,Oi,r.rotate,{once:!0}),Z(n,Oi,{degree:e,oldDegree:s})===!1)return this;a.rotate=e,this.rotating=!0,this.renderImage(function(){i.rotating=!1,H(r.rotated)&&M(n,xi,r.rotated,{once:!0}),Z(n,xi,{degree:e,oldDegree:s},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.element,a=this.options,s=this.imageData;if(e=Number(e),n=Number(n),this.viewed&&!this.played&&a.scalable){var u=s.scaleX,o=s.scaleY,f=!1;if(K(e)?f=!0:e=u,K(n)?f=!0:n=o,f){if(H(a.scale)&&M(r,Mi,a.scale,{once:!0}),Z(r,Mi,{scaleX:e,scaleY:n,oldScaleX:u,oldScaleY:o})===!1)return this;s.scaleX=e,s.scaleY=n,this.scaling=!0,this.renderImage(function(){i.scaling=!1,H(a.scaled)&&M(r,Ci,a.scaled,{once:!0}),Z(r,Ci,{scaleX:e,scaleY:n,oldScaleX:u,oldScaleY:o},{cancelable:!1})})}}return this},zoom:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(a.width*e/a.naturalWidth,i,n,r),this},zoomTo:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,u=this.element,o=this.options,f=this.pointers,c=this.imageData,l=c.x,d=c.y,y=c.width,h=c.height,T=c.naturalWidth,m=c.naturalHeight;if(e=Math.max(0,e),K(e)&&this.viewed&&!this.played&&(s||o.zoomable)){if(!s){var v=Math.max(.01,o.minZoomRatio),_=Math.min(100,o.maxZoomRatio);e=Math.min(Math.max(e,v),_)}if(a)switch(a.type){case"wheel":o.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var S=T*e,R=m*e,N=S-y,L=R-h,F=c.ratio;if(H(o.zoom)&&M(u,Ii,o.zoom,{once:!0}),Z(u,Ii,{ratio:e,oldRatio:F,originalEvent:a})===!1)return this;if(this.zooming=!0,a){var P=ao(this.viewer),z=f&&Object.keys(f).length>0?lo(f):{pageX:a.pageX,pageY:a.pageY};c.x-=N*((z.pageX-P.left-l)/y),c.y-=L*((z.pageY-P.top-d)/h)}else Me(r)&&K(r.x)&&K(r.y)?(c.x-=N*((r.x-l)/y),c.y-=L*((r.y-d)/h)):(c.x-=N/2,c.y-=L/2);c.left=c.x,c.top=c.y,c.width=S,c.height=R,c.oldRatio=F,c.ratio=e,this.renderImage(function(){i.zooming=!1,H(o.zoomed)&&M(u,$i,o.zoomed,{once:!0}),Z(u,$i,{ratio:e,oldRatio:F,originalEvent:a},{cancelable:!1})}),n&&this.tooltip()}return this},play:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var n=this.element,r=this.options;if(H(r.play)&&M(n,Li,r.play,{once:!0}),Z(n,Li)===!1)return this;var a=this.player,s=this.loadImage.bind(this),u=[],o=0,f=0;if(this.played=!0,this.onLoadWhenPlay=s,i&&this.requestFullscreen(i),x(a,Ae),V(this.items,function(d,y){var h=d.querySelector("img"),T=document.createElement("img");T.src=Ce(h,"originalUrl"),T.alt=h.getAttribute("alt"),T.referrerPolicy=h.referrerPolicy,o+=1,x(T,it),Be(T,G,r.transition),Oe(d,Ze)&&(x(T,ne),f=y),u.push(T),M(T,re,s,{once:!0}),a.appendChild(T)}),K(r.interval)&&r.interval>0){var c=function(){clearTimeout(e.playing.timeout),Y(u[f],ne),f-=1,f=f>=0?f:o-1,x(u[f],ne),e.playing.timeout=setTimeout(c,r.interval)},l=function(){clearTimeout(e.playing.timeout),Y(u[f],ne),f+=1,f=f<o?f:0,x(u[f],ne),e.playing.timeout=setTimeout(l,r.interval)};o>1&&(this.playing={prev:c,next:l,timeout:setTimeout(l,r.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var i=this.element,n=this.options;if(H(n.stop)&&M(i,Ri,n.stop,{once:!0}),Z(i,Ri)===!1)return this;var r=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,V(r.getElementsByTagName("img"),function(a){U(a,re,e.onLoadWhenPlay)}),Y(r,Ae),r.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,i=this.options,n=this.viewer,r=this.image,a=this.list;return!this.isShown||this.played||this.fulled||!i.inline?this:(this.fulled=!0,this.open(),x(this.button,ui),i.transition&&(Y(a,G),this.viewed&&Y(r,G)),x(n,Ot),n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby",this.title.id),n.setAttribute("aria-modal",!0),n.removeAttribute("style"),se(n,{zIndex:i.zIndex}),i.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=te({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){i.transition&&setTimeout(function(){x(r,G),x(a,G)},0)})}),this)},exit:function(){var e=this,i=this.options,n=this.viewer,r=this.image,a=this.list;return!this.isShown||this.played||!this.fulled||!i.inline?this:(this.fulled=!1,this.close(),Y(this.button,ui),i.transition&&(Y(a,G),this.viewed&&Y(r,G)),i.focus&&this.clearEnforceFocus(),n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-modal"),Y(n,Ot),se(n,{zIndex:i.zIndexInline}),this.viewerData=te({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){i.transition&&setTimeout(function(){x(r,G),x(a,G)},0)})}),this)},tooltip:function(){var e=this,i=this.options,n=this.tooltipBox,r=this.imageData;return!this.viewed||this.played||!i.tooltip?this:(n.textContent="".concat(Math.round(r.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):i.transition?(this.fading&&Z(n,ae),x(n,Ae),x(n,it),x(n,G),n.removeAttribute("aria-hidden"),n.initialOffsetWidth=n.offsetWidth,x(n,ne)):(x(n,Ae),n.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){i.transition?(M(n,ae,function(){Y(n,Ae),Y(n,it),Y(n,G),n.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Y(n,ne),e.fading=!0):(Y(n,Ae),n.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=te({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,i=this.element,n=this.options,r=this.isImg;if(r&&!i.parentNode)return this.destroy();var a=[];if(V(r?[i]:i.querySelectorAll("img"),function(f){H(n.filter)?n.filter.call(e,f)&&a.push(f):e.getImageURL(f)&&a.push(f)}),!a.length)return this;if(this.images=a,this.length=a.length,this.ready){var s=[];if(V(this.items,function(f,c){var l=f.querySelector("img"),d=a[c];d&&l?(d.src!==l.src||d.alt!==l.alt)&&s.push(c):s.push(c)}),se(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var u=s.indexOf(this.index);if(u>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-u,this.length-1),0));else{var o=this.items[this.index];x(o,Ze),o.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,i=this.options;return e[$]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),i.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):i.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),i.inline||U(e,Re,this.onStart),e[$]=void 0,this):this}},go={getImageURL:function(e){var i=this.options.url;return qe(i)?i=e.getAttribute(i):H(i)?i=i.call(this,e):i="",i},enforceFocus:function(){var e=this;this.clearEnforceFocus(),M(document,hi,this.onFocusin=function(i){var n=e.viewer,r=i.target;if(!(r===document||r===n||n.contains(r))){for(;r;){if(r.getAttribute("tabindex")!==null||r.getAttribute("aria-modal")==="true")return;r=r.parentElement}n.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(U(document,hi,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;x(e,ci),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Y(e,ci),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,i=this.options,n=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,i.focus&&(n.focus(),this.enforceFocus()),H(i.shown)&&M(e,_i,i.shown,{once:!0}),Z(e,_i)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,i=this.options,n=this.viewer;i.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),x(n,be),n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-modal"),n.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(H(i.hidden)&&M(e,Ti,i.hidden,{once:!0}),Z(e,Ti,null,{cancelable:!1}))},requestFullscreen:function(e){var i=this.element.ownerDocument;if(this.fulled&&!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement)){var n=i.documentElement;n.requestFullscreen?Me(e)?n.requestFullscreen(e):n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var i=this.options,n=this.pointers,r=n[Object.keys(n)[0]];if(r){var a=r.endX-r.startX,s=r.endY-r.startY;switch(this.action){case tt:(a!==0||s!==0)&&(this.pointerMoved=!0,this.move(a,s,e));break;case Fe:this.zoom(oo(n),!1,null,e);break;case cn:{this.action="switched";var u=Math.abs(a);u>1&&u>Math.abs(s)&&(this.pointers={},a>1?this.prev(i.loop):a<-1&&this.next(i.loop));break}}V(n,function(o){o.startX=o.endX,o.startY=o.endY})}},isSwitchable:function(){var e=this.imageData,i=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=i.width&&e.height<=i.height}},vo=ge.Viewer,mo=function(t){return function(){return t+=1,t}}(-1),kt=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(js(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=te({},li,Me(i)&&i),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=mo(),this.init()}return ks(t,[{key:"init",value:function(){var i=this,n=this.element,r=this.options;if(!n[$]){n[$]=this,r.focus&&!r.keyboard&&(r.focus=!1);var a=n.localName==="img",s=[];if(V(a?[n]:n.querySelectorAll("img"),function(f){H(r.filter)?r.filter.call(i,f)&&s.push(f):i.getImageURL(f)&&s.push(f)}),this.isImg=a,this.length=s.length,this.images=s,this.initBody(),xe(document.createElement($).style.transition)&&(r.transition=!1),r.inline){var u=0,o=function(){if(u+=1,u===i.length){var c;i.initializing=!1,i.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){i.delaying=!1,i.build()},0)}};this.initializing={abort:function(){V(s,function(c){c.complete||(U(c,re,o),U(c,_e,o))})}},V(s,function(f){if(f.complete)o();else{var c,l;M(f,re,c=function(){U(f,_e,l),o()},{once:!0}),M(f,_e,l=function(){U(f,re,c),o()},{once:!0})}})}else M(n,Re,this.onStart=function(f){var c=f.target;c.localName==="img"&&(!H(r.filter)||r.filter.call(i,c))&&i.view(i.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var i=this.element,n=this.options,r=i.parentNode,a=document.createElement("div");a.innerHTML=Vs;var s=a.querySelector(".".concat($,"-container")),u=s.querySelector(".".concat($,"-title")),o=s.querySelector(".".concat($,"-toolbar")),f=s.querySelector(".".concat($,"-navbar")),c=s.querySelector(".".concat($,"-button")),l=s.querySelector(".".concat($,"-canvas"));if(this.parent=r,this.viewer=s,this.title=u,this.toolbar=o,this.navbar=f,this.button=c,this.canvas=l,this.footer=s.querySelector(".".concat($,"-footer")),this.tooltipBox=s.querySelector(".".concat($,"-tooltip")),this.player=s.querySelector(".".concat($,"-player")),this.list=s.querySelector(".".concat($,"-list")),s.id="".concat($).concat(this.id),u.id="".concat($,"Title").concat(this.id),x(u,n.title?Qe(Array.isArray(n.title)?n.title[0]:n.title):be),x(f,n.navbar?Qe(n.navbar):be),Be(c,be,!n.button),n.keyboard&&c.setAttribute("tabindex",0),n.backdrop&&(x(s,"".concat($,"-backdrop")),!n.inline&&n.backdrop!=="static"&&Mt(l,at,"hide")),qe(n.className)&&n.className&&n.className.split(Yt).forEach(function(S){x(s,S)}),n.toolbar){var d=document.createElement("ul"),y=Me(n.toolbar),h=Je.slice(0,3),T=Je.slice(7,9),m=Je.slice(9);y||x(o,Qe(n.toolbar)),V(y?n.toolbar:Je,function(S,R){var N=y&&Me(S),L=y?jt(R):S,F=N&&!xe(S.show)?S.show:S;if(!(!F||!n.zoomable&&h.indexOf(L)!==-1||!n.rotatable&&T.indexOf(L)!==-1||!n.scalable&&m.indexOf(L)!==-1)){var P=N&&!xe(S.size)?S.size:S,z=N&&!xe(S.click)?S.click:S,C=document.createElement("li");n.keyboard&&C.setAttribute("tabindex",0),C.setAttribute("role","button"),x(C,"".concat($,"-").concat(L)),H(z)||Mt(C,at,L),K(F)&&x(C,Qe(F)),["small","large"].indexOf(P)!==-1?x(C,"".concat($,"-").concat(P)):L==="play"&&x(C,"".concat($,"-large")),H(z)&&M(C,Re,z),d.appendChild(C)}}),o.appendChild(d)}else x(o,be);if(!n.rotatable){var v=o.querySelectorAll('li[class*="rotate"]');x(v,ke),V(v,function(S){o.appendChild(S)})}if(n.inline)x(c,qs),se(s,{zIndex:n.zIndexInline}),window.getComputedStyle(r).position==="static"&&se(r,{position:"relative"}),r.insertBefore(s,i.nextSibling);else{x(c,Ws),x(s,Ot),x(s,it),x(s,be),se(s,{zIndex:n.zIndex});var _=n.container;qe(_)&&(_=i.ownerDocument.querySelector(_)),_||(_=this.body),_.appendChild(s)}if(n.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,H(n.ready)&&M(i,yi,n.ready,{once:!0}),Z(i,yi)===!1){this.ready=!1;return}this.ready&&n.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=vo,t}},{key:"setDefaults",value:function(i){te(li,Me(i)&&i)}}])}();te(kt.prototype,uo,co,fo,ho,go);function po(t){const e=k.ref([]),i=k.ref(!1),n=k.inject("speed-components-config",k.ref({apis:{}})),r=k.computed(()=>{var l,d,y,h;return t===void 0?(l=n.value)!=null&&l.apis?{apis:(d=n.value)==null?void 0:d.apis}:{}:(y=n.value)!=null&&y.apis?{apis:(h=n.value)==null?void 0:h.apis,...t.value}:t.value}),a=(l,d)=>{var v,_;const y=d||e.value;if(!r.value)return!0;let h=!1,T=!0,m=!0;if(r.value.maxCount&&(h=e.value.length+((v=y||[])==null?void 0:v.length)>r.value.maxCount,h))return Ye.message.warning(`已超过最大上传数${r.value.maxCount}`),!1;if(r.value.maxSize&&l.size&&(m=l.size/1024/1024<r.value.maxSize,m||Ye.message.warning(`单个文件最大为${r.value.maxSize}M`)),r.value.acceptTypes&&r.value.acceptTypes.length>0){const S=/\.\w+$/,R=((_=l.name.match(S))==null?void 0:_[0])??"";r.value.acceptTypes.includes(R)||(Ye.message.warning(`请上传${r.value.acceptTypes.join("、")}格式的文件`),T=!1)}return m&&T},s=async l=>{var v,_,S,R,N;if(!((_=(v=r==null?void 0:r.value)==null?void 0:v.apis)!=null&&_.fileUpload)){console.warn("未配置上传接口");return}let d=new FormData;const{file:y}=l,h=Array.isArray(y)?y:[y];if(h.forEach(L=>{d.append(r.value.name||"files[]",L)}),(S=r.value)!=null&&S.data){if(!(typeof r.value.data=="function"||typeof r.value.data=="object")){console.warn("data类型错误,请传入object或function");return}if(typeof r.value.data=="object"){const L=r.value.data;Object.keys(L).forEach(F=>{d.append(F,L[F])})}else{const L=r.value.data(h);Array.from(L.entries()).forEach(([F,P])=>{d.append(F,P)})}}console.log("formData-imgUpload=",d),i.value=!0;const T=h.map(()=>Ps()),m=h.map((L,F)=>({uid:T[F],fileName:L.name,status:"uploading"}));e.value.push(...m);try{const L=await r.value.apis.fileUpload(d);i.value=!1,L.success?(L.data.map(P=>{var z;return(z=r==null?void 0:r.value)!=null&&z.transformResult&&typeof r.value.transformResult=="function"?r.value.transformResult(P):{id:P.id,fileType:P.fileType,fileSize:P.fileSize,fileName:P.fileName}}).forEach((P,z)=>{const C=e.value.findIndex(b=>b.uid===T[z]);C!==-1&&(e.value[C]={...P,status:"done"})}),(R=l.afterUpload)==null||R.call(l)):T.forEach(F=>{const P=e.value.findIndex(z=>z.uid===F);P!==-1&&(e.value[P].status="error")}),(N=r==null?void 0:r.value)!=null&&N.afterUpload&&typeof r.value.afterUpload=="function"&&r.value.afterUpload(e.value)}catch{i.value=!1,T.forEach(F=>{const P=e.value.findIndex(z=>z.uid===F);P!==-1&&(e.value[P].status="error")})}},u=k.ref();return{beforeUpload:a,customRequest:s,handleDelFile:async l=>{var h,T,m,v,_;const d=l.id;if(!((h=r==null?void 0:r.value)!=null&&h.apis)){console.warn("未配置删除接口");const S=e.value.findIndex(R=>R.id===d);e.value.splice(S,1),(T=r==null?void 0:r.value)!=null&&T.afterDelete&&typeof r.value.afterDelete=="function"&&r.value.afterDelete(e.value);return}i.value=!0;const y=await((v=(m=r.value.apis).fileDel)==null?void 0:v.call(m,d));if(i.value=!1,y&&y.success){const S=e.value.findIndex(R=>R.id===d);e.value.splice(S,1),(_=r==null?void 0:r.value)!=null&&_.afterDelete&&typeof r.value.afterDelete=="function"&&r.value.afterDelete(e.value)}},handleDownloadFile:async l=>{var h,T;const d=(T=(h=r.value)==null?void 0:h.apis)==null?void 0:T.fileDownload;if(!d||typeof d!="function")throw new Error("文件下载方法缺失或传入的fileDownload不正确");const y=await d(l.id);ln(y,l.fileName,l==null?void 0:l.className)},handlePreviewFile:async l=>{var T,m,v;if(!l.fileName)throw new Error("缺少必要属性fileName");const d=(m=(T=r.value)==null?void 0:T.apis)==null?void 0:m.getPreviewUrl,y=/\.\w+$/,h=((v=l.fileName.match(y))==null?void 0:v[0])??"";if(h)if([".png",".jpg",".gif",".jpeg"].includes(h))if(u.value)u.value.view(0);else{let _=null;document.getElementById("viewer-img")?_=document.getElementById("viewer-img"):(_=document.createElement("img"),_.id="viewer-img",_.style.display="none"),_&&(_.src=(d?d(l.id):l.previewUrl)||"",u.value=new kt(_,{className:l.className,inline:!1}),u.value.view(0))}else r.value.onPreview||typeof r.value.onPreview=="function"?r.value.onPreview(l.id):window.open(l.previewUrl);else r.value.onPreview||typeof r.value.onPreview=="function"?r.value.onPreview(l.id):window.open(l.previewUrl)},uploadLoading:i,files:e}}const wo={extraParams:{},needFullSelect:!1,hasPagination:!0,hasSelectedRows:[],sortFieldKey:"sortField",sortOrderKey:"sortOrder"},dn=["10","20","50"],yo=(t,e)=>{var z,C;const i=k.ref(!1),n=k.ref(!1),r=k.ref([]),a=k.inject("speed-components-config"),s=(z=a==null?void 0:a.value)==null?void 0:z.transformRequestRes,u=(C=a==null?void 0:a.value)==null?void 0:C.useLoadConfig,o=k.computed(()=>({...wo,...e.value,...u})),f=k.computed(()=>o.value.rowKey||"id"),c=k.ref({}),l=k.ref({[String(o.value.sortFieldKey)]:"",[String(o.value.sortOrderKey)]:""}),d=o.value.emit,y=k.ref({current:1,pageSize:10,total:0,showSizeChanger:!0,pageSizeOptions:dn,showTotal:b=>`共${b}条`}),h=k.reactive({curPageKeys:[],selectedRowKeys:[],selectedRows:[],totalRows:[],hasSelectedRows:[]}),T=k.computed(()=>h.totalRows.map(b=>b[f.value])||[]),m=k.computed(()=>({checkAll:h.hasSelectedRows.length>0&&h.hasSelectedRows.length===Number(h.totalRows.length),indeterminate:h.hasSelectedRows.length>0&&h.hasSelectedRows.length<h.totalRows.length})),v=()=>{o.value&&o.value.handleMultiRes?h.curPageKeys=o.value.handleMultiRes(r.value):h.curPageKeys=r.value.map(b=>b[f.value]),h.selectedRows=h.hasSelectedRows.filter(b=>h.curPageKeys.includes(b[f.value]))||[],h.selectedRowKeys=h.selectedRows.map(b=>b[f.value])||[]};k.watch(()=>o.value.hasSelectedRows,b=>{h.hasSelectedRows=b||[],v()},{immediate:!0});const _=async b=>{b.target.checked?h.hasSelectedRows=Rs([...h.hasSelectedRows,...h.totalRows],f.value):b.target.checked||(h.hasSelectedRows=h.hasSelectedRows.filter(j=>!T.value.includes(j[f.value]))),v(),d&&d("update:hasSelectedRows",h.hasSelectedRows)};async function S(){if(o.value.fullRowsAjax){n.value=!0;const b=await o.value.fullRowsAjax({...o.value.extraParams});n.value=!1,b&&b.success&&(h.totalRows=b.data||[],v())}}const R=()=>{h.curPageKeys=[],h.selectedRowKeys=[],h.selectedRows=[],h.totalRows=[],h.hasSelectedRows=[]};async function N(b=!0,j={needResetChecked:!1,backLoad:!1}){const B=k.unref(t);i.value=!0,j.needResetChecked&&R(),o.value.beforeFetch&&typeof o.value.beforeFetch=="function"&&o.value.beforeFetch(),b&&(y.value.current=1);try{const E={...o.value.extraParams,...c.value,...l.value};let g={};if(g=await B(o.value.hasPagination?{page:y.value.current,size:y.value.pageSize,...E}:E),s&&(typeof s!="function"?console.error("transformRequestRes应为一个函数"):g=s(g)),g&&(g!=null&&g.success)){if(i.value=!1,r.value.length===0&&y.value.current!==1&&!j.backLoad){y.value.current--,N(b,{backLoad:!0});return}o.value.transformAfterFetch&&typeof o.value.transformAfterFetch=="function"&&(g.data=o.value.transformAfterFetch(g.data)),r.value=(g==null?void 0:g.data)??[],y.value.total=Number(g.totalCount),o.value.needFullSelect&&b&&S(),v(),o.value.afterFetch&&typeof o.value.afterFetch=="function"&&o.value.afterFetch(r.value)}}catch(E){r.value=[],i.value=!1,console.error(E)}}return{state:h,totalCheckStatus:m,loading:i,selectAllLoading:n,pagination:y,dataSource:r,getList:N,onSelectChange:(b,j)=>{console.log(b,j),h.selectedRowKeys=b,h.selectedRows=j;const B=h.hasSelectedRows.filter(E=>!h.curPageKeys.includes(E[f.value]));h.hasSelectedRows=[...B,...j],d&&d("update:hasSelectedRows",h.hasSelectedRows)},handleTableChange:(b,j,B)=>{console.log(j,B),y.value.current=b.current,y.value.pageSize=b.pageSize,j&&(c.value=j),B&&(l.value[String(o.value.sortFieldKey)]=B.field,l.value[String(o.value.sortOrderKey)]=B.order),N(!1)},handleResizeColumn:(b,j)=>{j.width=b},onCheckAllChange:_}},bo={extraParams:{},hasPagination:!0},_o=(t,e=k.ref({extraParams:{},hasPagination:!0}))=>{var T,m;const i=k.unref(t),n=k.inject("speed-components-config"),r=(T=n==null?void 0:n.value)==null?void 0:T.transformRequestRes,a=(m=n==null?void 0:n.value)==null?void 0:m.useLoadConfig,s=k.computed(()=>({...bo,...e.value,...a})),u=k.reactive({page:1,size:10}),o=k.ref(!1),f=k.ref(!1),c=k.ref(!1),l=k.ref([]),d=async()=>{o.value=!0;try{let v=await i({[s.value.pageKey]:u.page,[s.value.pageSizekey]:u.size,...s.value.extraParams});if(r&&(typeof r!="function"?console.error("transformRequestRes应为一个函数"):v=r(v)),v&&v.success){o.value=!1,s.value.transformAfterFetch&&typeof s.value.transformAfterFetch=="function"&&(v.data=s.value.transformAfterFetch(v.data));const _=l.value.concat(v.data);l.value=_,v.totalPages!==void 0?v.totalPages<=u.page?c.value=!0:c.value=!1:v.totalCount!==void 0&&(v.totalCount<=l.value.length?c.value=!0:c.value=!1)}else o.value=!1}catch(v){o.value=!1,console.error(v)}};return{noMore:c,loading:o,initLoading:f,initLoad:async(v=!0)=>{v&&(u.page=1,l.value=[]),f.value=!0,await d(),f.value=!1},onLoadMore:async()=>{o.value=!0,c.value||(u.page+=1,d())},list:l}},{defaultAlgorithm:So,defaultSeed:To}=Ye.theme,Eo=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Do=()=>{const t=So(To),e=()=>{const i=[];return Object.entries(t).forEach(([n,r])=>{if(typeof r=="string"||typeof r=="number"){const a=Eo(n);i.push(`--ant-${a}: ${r};`)}}),`:root {
  ${i.join(`
  `)}
}`};if(typeof window<"u"){const i=document.createElement("style");return i.id="antd-css-vars",i.textContent=e(),document.head.appendChild(i),()=>{const n=document.getElementById("antd-css-vars");n&&document.head.removeChild(n)}}return()=>{}};exports.Stack=le;exports.Symbol=de;exports.Uint8Array=Dt;exports.Viewer=kt;exports.baseUnary=Ki;exports.dayjs=Fi;exports.defaultPageSizeOptions=dn;exports.download=Ys;exports.downloadFile=Fs;exports.downloadFileFromStream=on;exports.eq=It;exports.formatFileSize=zs;exports.getAllKeys=St;exports.getNative=De;exports.handleExceptDown=ln;exports.isArray=ue;exports.isBuffer=rt;exports.isNumEmpty=Ns;exports.isObject=ot;exports.isObjectLike=Se;exports.isPrototype=Wi;exports.isSymbol=st;exports.nodeUtil=_t;exports.overArg=Ji;exports.root=ce;exports.useAntdCssVars=Do;exports.useCustomUpload=po;exports.useLoadMore=_o;exports.useTable=yo;
